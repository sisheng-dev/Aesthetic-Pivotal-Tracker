{% extends "base.html" %}

{% block content %}
<div class="drag-container">
    <ul class="drag-list">
        <!-- To Do Column -->
        <li class="drag-column">
            <span class="header">
                <h2>To Do</h2>
            </span>
            <div id="to-do-content" class="drag-item-list" ondrop="drop(event)" ondragover="allowDrop(event)">
                {% for task in tasks %}
                <div class="drag-item" draggable="true" ondragstart="drag(event)" id="{{ task.id }}">
                    <div class="card">
                        <div class="card-header">
                            <button class="dropdown-button" onclick="toggleDropdown(event)">&#8942;</button>
                            <div class="dropdown-content">
                                <a class="edit-task-option">Edit task</a>
                                <a class="delete-task-option" onclick="deleteTask({{ task.id }})">Delete task</a>
                            </div>
                        </div>
                        <h3>{{ task.title }}</h3>
                        <p>{{ task.description }}</p>
                        <p>{{ task.deadline }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="add-btn-group">
                <div class="add-btn" onclick="showInputBox('to-do-content')">
                    <span class="plus-sign">+</span>
                    <span>Add Item</span>
                </div>
                <div class="add-container">
                    <form id="new-task-to-do-content" action="" method="post">
                        {{ task_form.csrf_token }}
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskTitle(placeholder = "Title") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDescription(placeholder = "Description") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDeadline(placeholder = "Deadline") }}
                            <i class='bx bxs-user'></i>
                        </div>

                        <!-- <input type="text" id="new-task-to-do-content" class="add-item" placeholder="Add a task"> -->
                        <button class="add-btn solid" onclick="addTask('to-do-content')">Save Item</button>
                        <button class="add-btn solid" onclick="hideInputBox('to-do-content')">Cancel</button>
                    </form>
                </div>
            </div>
        </li>
        <!-- In Progress Column -->
        <li class="drag-column">
            <span class="header">
                <h2>In Progress</h2>
            </span>
            <div id="in-progress-content" class="drag-item-list" ondrop="drop(event)" ondragover="allowDrop(event)">
            </div>
            <!-- <div class="add-btn-group">
                <div class="add-btn" onclick="showInputBox('in-progress-content')">
                    <span class="plus-sign">+</span>
                    <span>Add Item</span>
                </div>
                <div class="add-container">
                    <input type="text" id="new-task-in-progress-content" class="add-item" placeholder="Add a task">
                    <button class="add-btn solid" onclick="addTask('in-progress-content')">Save Item</button>
                </div>
            </div> -->
            <div class="add-btn-group">
                <div class="add-btn" onclick="showInputBox('in-progress-content')">
                    <span class="plus-sign">+</span>
                    <span>Add Item</span>
                </div>
                <div class="add-container">
                    <form id="new-task-in-progress-content" action="" method="post">
                        {{ task_form.csrf_token }}
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskTitle(placeholder = "Title") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDescription(placeholder = "Description") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDeadline(placeholder = "Deadline") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <!-- <input type="text" id="new-task-to-do-content" class="add-item" placeholder="Add a task"> -->
                        <button class="add-btn solid" onclick="addTask('in-progress-content')">Save Item</button>
                        <button class="add-btn solid" onclick="hideInputBox('in-progress-content')">Cancel</button>
                    </form>
                </div>
            </div>
        </li>
        <!-- Done Column -->
        <li class="drag-column">
            <span class="header">
                <h2>Done</h2>
            </span>
            <div id="done-content" class="drag-item-list" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <!-- <div class="add-btn-group">
                <div class="add-btn" onclick="showInputBox('done-content')">
                    <span class="plus-sign">+</span>
                    <span>Add Item</span>
                </div>
                <div class="add-container">
                    <input type="text" id="new-task-done-content" class="add-item" placeholder="Add a task">
                    <button class="add-btn solid" onclick="addTask('done-content')">Save Item</button>
                </div>
            </div> -->
            <div class="add-btn-group">
                <div class="add-btn" onclick="showInputBox('done-content')">
                    <span class="plus-sign">+</span>
                    <span>Add Item</span>
                </div>
                <div class="add-container">
                    <form id="new-task-done-content" action="" method="post">
                        {{ task_form.csrf_token }}
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskTitle(placeholder = "Title") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDescription(placeholder = "Description") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <div id="project-title-input" class="input-box">
                            {{ task_form.taskDeadline(placeholder = "Deadline") }}
                            <i class='bx bxs-user'></i>
                        </div>
                        <!-- <input type="text" id="new-task-to-do-content" class="add-item" placeholder="Add a task"> -->
                        <button class="add-btn solid" onclick="addTask('done-content')">Save Item</button>
                        <button class="add-btn solid" onclick="hideInputBox('done-content')">Cancel</button>
                    </form>
                </div>
            </div>
        </li>
    </ul>
</div>
<script src=" {{ url_for('static', filename='script.js')}}"></script>



{% endblock content %}