<!-- customize -->
<!-- Button trigger modal -->
<button
    type="button"
    class="btn btn-primary btn-lg"
    data-bs-toggle="modal"
    data-bs-target="#modalId"
>
    Launch
</button>

<!-- Modal -->
<div
    class="modal"
    id="modalId"
    tabindex="-1"
    role="dialog"
    aria-labelledby="modalTitleId"
    aria-hidden="true"
>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitleId">
                    Modal title
                </h5>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                ></button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">Add rows here</div>
            </div>
            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                >
                    Close
                </button>
                <button type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>

<script>
    var modalId = document.getElementById('modalId');

    modalId.addEventListener('show.bs.modal', function (event) {
          // Button that triggered the modal
          let button = event.relatedTarget;
          // Extract info from data-bs-* attributes
          let recipient = button.getAttribute('data-bs-whatever');

        // Use above variables to manipulate the DOM
    });
</script>


<!-- modal1 content -->

<button id="addTaskButton">Add Task</button>
<div id="addTaskModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
            <h2>Add Task</h2>
        </div>
        <div class="modal-body">
            <h3>Task Details</h3>
            <form>
                <label for="notes">Notes:</label>
                <textarea id="notes" name="notes"></textarea>
                <label for="status">Status:</label>
                <input type="radio" id="complete" name="status" value="complete">
                <label for="complete">Complete</label>
                <input type="radio" id="incomplete" name="status" value="incomplete">
                <label for="incomplete">Incomplete</label>
                <button type="submit">Save</button>
            </form>
        </div>
        <div class="modal-footer">
            <button id="saveButton">Save</button>
            <button id="closeButton">Close</button>
        </div>
    </div>
</div>>
<script>
    var addTaskButton = document.getElementById("addTaskButton");
    var addTaskModal = document.getElementById("addTaskModal");
    var closeButton = document.getElementById("closeButton");

    addTaskButton.addEventListener("click", function() {
        addTaskModal.style.display = "block";
    });

    closeButton.addEventListener("click", function() {
        addTaskModal.style.display = "none";
    });
</script>


<!-- teams planner task base code -->
<!DOCTYPE html>
<html lang="en">

{% extends 'base.html' %}
{% block title %}Project{% endblock %}
{% block header %}{% endblock %}

{% block content %}
<div data-landmark="true" class="taskBoardViewLandmark css-430" role="main">
    <div class="taskBoardView css-499">
        <ul class="columnsList css-500">
            <li data-is-focusable="true" class="taskBoardColumn css-504" data-index="0" data-dnd-role="column"
                id="column_I2Qd5yyeV0eqr7ndZ0fxA2QAMS56" tabindex="0"
                aria-label="Column To do, Use Ctrl+Shift+Comma and Ctrl+Shift+Period to move this column left or right.">
                <div class="columnContent">
                    <div class="columnHeader css-505" draggable="true">
                        <div class="columnHeaderTitle passive_1">
                            <div class="titleSection css-507">
                                <div class="columnTitle" tabindex="0" role="button" title="To do">
                                    <h3>To do</h3>
                                </div>
                                <div class="editMenu">
                                    <div class="ms-TooltipHost root-141" role="none"><button type="button"
                                            class="ms-Button ms-Button--icon editMenuLauncher root-485"
                                            aria-label="More Options" data-is-focusable="true"><span
                                                class="ms-Button-flexContainer flexContainer-133"
                                                data-automationid="splitbuttonprimary"><i data-icon-name="plannerMore"
                                                    aria-hidden="true"
                                                    class="ms-Icon root-89 ms-Button-icon plannerIcon plannerMore icon-135 plannerIcon plannerMore css-98"><svg
                                                        class="css-97 ___12fm75w f1w7gpdv fez10in fg4l7m0"
                                                        fill="currentColor" aria-hidden="true" width="20" height="20"
                                                        viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
                                                            fill="currentColor"></path>
                                                    </svg></i></span></button>
                                        <div hidden="" id="tooltip1313"
                                            style="position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0px; border: 0px; overflow: hidden; white-space: nowrap;">
                                            More Options</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="addButtonContainer">
                            <div class="addButton css-506 active_0" aria-label="Add task card in To do column"
                                role="button" tabindex="0" title="Add a task"><i data-icon-name="plannerAdd"
                                    aria-hidden="true" class="plannerIcon plannerAdd root-130"><svg
                                        class="css-97 ___12fm75w f1w7gpdv fez10in fg4l7m0" fill="currentColor"
                                        aria-hidden="true" width="20" height="20" viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5Z"
                                            fill="currentColor"></path>
                                    </svg></i><span class="addTaskText">Add task</span></div>
                        </div>
                    </div>
                    <div class="scrollable css-508" data-can-drag-to-scroll="true">
                        <div class="primarySection taskBoardColumnGroup css-509" data-dnd-role="columnGroup"
                            data-can-drag-to-scroll="true">
                            <div class="listWrapper"></div>
                            <div data-dnd-role="bottomDropZone" data-can-drag-to-scroll="true"
                                class="bottomDropZone css-512"></div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="createColumn css-501">
                <div class="columnContent" data-can-drag-to-scroll="true">
                    <div class="columnHeader">
                        <div class="columnHeaderTitle">
                            <h3 class="titleSection"><button class="columnTitle addColumnButton css-502"
                                    title="Add a new bucket" aria-label="Add a new bucket"><i
                                        data-icon-name="plannerAdd" aria-hidden="true"
                                        class="plannerIcon plannerAdd root-130"><svg
                                            class="css-97 ___12fm75w f1w7gpdv fez10in fg4l7m0" fill="currentColor"
                                            aria-hidden="true" width="20" height="20" viewBox="0 0 20 20"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M10 2.5a.5.5 0 0 0-1 0V9H2.5a.5.5 0 0 0 0 1H9v6.5a.5.5 0 0 0 1 0V10h6.5a.5.5 0 0 0 0-1H10V2.5Z"
                                                fill="currentColor"></path>
                                        </svg></i><span class="active_1"> Add new bucket</span></button></h3>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>


{% endblock %}


<div class="taskBoardViewLandmark" role="main">
    <div class="taskBoardView">
        <div class="taskBoardColumn">
            <div class="taskBoardColumnHeader">
                <div class="taskBoardColumnHeaderTitle">To Do</div>
                <div class="taskBoardColumnHeaderActions">
                    <button class="taskBoardColumnHeaderAction">Add Task</button>
                    <div id="addTaskModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <span class="close">&times;</span>
                                <h2>Add Task</h2>
                            </div>
                            <div class="modal-body">
                                <h3>Task Details</h3>
                                <form>
                                    <label for="notes">Notes:</label>
                                    <textarea id="notes" name="notes"></textarea>
                                    <label for="status">Status:</label>
                                    <input type="radio" id="complete" name="status" value="complete">
                                    <label for="complete">Complete</label>
                                    <input type="radio" id="incomplete" name="status" value="incomplete">
                                    <label for="incomplete">Incomplete</label>
                                    <button type="submit">Save</button>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button id="saveButton">Save</button>
                                <button id="closeButton">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="taskBoardColumnBody">
                <div class="taskBoardTask">
                    <div class="taskBoardTaskTitle">Task 1</div>
                    <div class="taskBoardTaskActions">
                        <button class="taskBoardTaskAction">Edit</button>
                        <button class="taskBoardTaskAction">Delete</button>
                    </div>
                </div>
                <div class="taskBoardTask">
                    <div class="taskBoardTaskTitle">Task 2</div>
                    <div class="taskBoardTaskActions">
                        <button class="taskBoardTaskAction">Edit</button>
                        <button class="taskBoardTaskAction">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="taskBoardColumn">
            <div class="taskBoardColumnHeader">
                <div class="taskBoardColumnHeaderTitle">In Progress</div>
                <div class="taskBoardColumnHeaderActions">
                    <button class="taskBoardColumnHeaderAction">Add Task</button>
                    <div id="addTaskModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <span class="close">&times;</span>
                                <h2>Add Task</h2>
                            </div>
                            <div class="modal-body">
                                <h3>Task Details</h3>
                                <form>
                                    <label for="notes">Notes:</label>
                                    <textarea id="notes" name="notes"></textarea>
                                    <label for="status">Status:</label>
                                    <input type="radio" id="complete" name="status" value="complete">
                                    <label for="complete">Complete</label>
                                    <input type="radio" id="incomplete" name="status" value="incomplete">
                                    <label for="incomplete">Incomplete</label>
                                    <button type="submit">Save</button>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button id="saveButton">Save</button>
                                <button id="closeButton">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="taskBoardColumnBody">
                <div class="taskBoardTask">
                    <div class="taskBoardTaskTitle">Task 3</div>
                    <div class="taskBoardTaskActions">
                        <button class="taskBoardTaskAction">Edit</button>
                        <button class="taskBoardTaskAction">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="taskBoardColumn">
            <div class="taskBoardColumnHeader">
                <div class="taskBoardColumnHeaderTitle">In Progress</div>
                <div class="taskBoardColumnHeaderActions">
                    <button id="newCategoryButton">New Category</button>
                    <div id="newCategoryColumn" class="col-1">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Create three columns. Each column should have a header with a title and a button to add a task. When the button is clicked, a modal should appear with a form to add a task. The modal should have a close button to close the modal. The modal should have a title, description, and a submit button. When the submit button is clicked, the task should be added to the column. Beneath each column's header should be a card. The card should have the title "Task" and a description "This is a task". The card should have a button to edit the task. When the button is clicked, a modal should appear with a form to edit the task. The modal should have a close button to close the modal. The modal should have a title, description, and a submit button. When the submit button is clicked, the task should be updated. The card should have a button to delete the task. When the button is clicked, the task should be deleted. The columns should be draggable so that they can be rearranged. The cards should be draggable so that they can be moved between columns. The columns and cards should be saved in the database so that they persist when the page is reloaded.  -->
{% block scripts %}

<script>
    window.onload = function() {
        var addTaskButtons = document.getElementsByClassName('add-task-button');
        var addTaskModal = document.getElementById('addTaskModal');
        var closeButton = document.getElementById('closeButton');
        for (var i = 0; i < addTaskButtons.length; i++) {
            addTaskButtons[i].addEventListener('click', function() {
                addTaskModal.style.display = "block";
            });
        }
        closeButton.addEventListener('click', function() {
            addTaskModal.style.display = "none";
        });

        var editTaskButtons = document.getElementsByClassName('edit-task-button');
        var editTaskModal = document.getElementById('editTaskModal');
        var editCloseButton = document.getElementById('editCloseButton');
        for (var i = 0; i < editTaskButtons.length; i++) {
            editTaskButtons[i].addEventListener('click', function() {
                editTaskModal.style.display = "block";
            });
        }
        editCloseButton.addEventListener('click', function() {
            editTaskModal.style.display = "none";
        });
    }
</script>

<script>
    var newCategoryButton = document.getElementById("newCategoryButton");
    var newCategoryColumn = document.getElementById("newCategoryColumn");
    newCategoryButton.addEventListener("click", function() {
        var addTaskModalClone = document.getElementById("addTaskModal").cloneNode(true);
        newCategoryColumn.appendChild(addTaskModalClone);
    });
</script>

{% endblock %}

{% block content %}
<div class="column">
    <div class="column-header">
        <h2>Column 1</h2>
        <button class="add-task-button">Add Task</button>
    </div>
    <div class="card">
        <h3>Task</h3>
        <p>This is a task</p>
        <button class="edit-task-button">Edit Task</button>
        <button class="delete-task-button">Delete Task</button>
    </div>
</div>

<div class="column">
    <div class="column-header">
        <h2>Column 2</h2>
        <button class="add-task-button">Add Task</button>
    </div>
    <div class="card">
        <h3>Task</h3>
        <p>This is a task</p>
        <button class="edit-task-button">Edit Task</button>
        <button class="delete-task-button">Delete Task</button>
    </div>
</div>

<div class="column">
    <div class="column-header">
        <h2>Column 3</h2>
        <button class="add-task-button">Add Task</button>
    </div>
    <div class="card">
        <h3>Task</h3>
        <p>This is a task</p>
        <button class="edit-task-button">Edit Task</button>
        <button class="delete-task-button">Delete Task</button>
    </div>
</div>

<div id="addTaskModal" class="modal">
    <div class="modal-content">
        <span id="closeButton" class="close">&times;</span>
        <h2>Add Task</h2>
        <form>
            <label for="taskTitle">Title:</label>
            <input type="text" id="taskTitle" name="taskTitle" required>
            <label for="taskDescription">Description:</label>
            <textarea id="taskDescription" name="taskDescription" required></textarea>
            <button type="submit">Submit</button>
        </form>
    </div>
</div>

<div id="editTaskModal" class="modal">
    <div class="modal-content">
        <span id="closeButton" class="close">&times;</span>
        <h2>Edit Task</h2>
        <form>
            <label for="editTaskTitle">Title:</label>
            <input type="text" id="editTaskTitle" name="editTaskTitle" required>
            <label for="editTaskDescription">Description:</label>
            <textarea id="editTaskDescription" name="editTaskDescription" required></textarea>
            <button type="submit">Submit</button>
        </form>
    </div>
</div>

{% endblock %}

<!-- Create three columns. Each of the first two columns should have a header with a title and a button to add a task. When the button is clicked, a modal should appear with a form to add a task. The modal should have a close button to close the modal. The modal should have a title, description, a due date, and a submit button. When the submit button is clicked, the task should be added to the column. Beneath each column's header should be a card. The card should have the title "Task" and a description "This is a task". The card should have a button to edit the task. When the button is clicked, a modal should appear with a form to edit the task. The modal should have a close button to close the modal. The modal should have a title, description, a due date, and a submit button. When the submit button is clicked, the task should be updated. The card should have a button to delete the task. When the button is clicked, the task should be deleted. The columns should be draggable so that they can be rearranged. The cards should be draggable so that they can be moved between columns. The columns and cards should be saved in the database so that they persist when the page is reloaded. The third column should have a button to add another column. When the button is clicked, a new column should be added with the same functionality as the other columns. The columns should be saved in the database so that they persist when the page is reloaded. -->

Code replaced on 6/5/2024
 {% extends 'base.html' %}
{% block title %} Project {% endblock title%}

{% block header %}
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<h1>Project Title</h1>
{% endblock header %}




{% block content %}

<div class="container">
    <div class="column">
        <div class="column-header">
            <h2>Category 1</h2>
            <button class="add-task-button">Add Task</button>
        </div>
        <div class="card">
            <div class="card-header">
                <button class="dropdown-button">&#8942;</button>
                <div class="dropdown-content">
                    <a class="edit-task-option">Edit Task</a>
                    <a class="delete-task-option">Delete Task</a>
                    <a class="mark-complete-option">Mark as Complete</a>
                </div>
            </div>
            <h3>Task</h3>
            <p>This is a task</p>
            <p>Deadline: <span class="deadline">2022-12-31</span></p>
        </div>
    </div>

    <div class="column">
        <div class="column-header">
            <h2>Category 2</h2>
            <button class="add-task-button">Add Task</button>
        </div>
        <div class="card">
            <div class="card-header">
                <button class="dropdown-button">&#8942;</button>
                <div class="dropdown-content">
                    <a class="edit-task-option">Edit Task</a>
                    <a class="delete-task-option">Delete Task</a>
                    <a class="mark-complete-option">Mark as Complete</a>
                </div>
            </div>
            <h3>Task</h3>
            <p>This is a task</p>
            <p>Deadline: <span class="deadline">2022-12-31</span></p>
        </div>
    </div>

    <div class="column">
        <div class="column-header">
            <h2>Category 3</h2>
            <button class="add-task-button">Add Task</button>
        </div>
        <div class="card">
            <div class="card-header">
                <button class="dropdown-button">&#8942;</button>
                <div class="dropdown-content">
                    <a class="edit-task-option">Edit Task</a>
                    <a class="delete-task-option">Delete Task</a>
                    <a class="mark-complete-option">Mark as Complete</a>
                </div>
            </div>
            <h3>Task</h3>
            <p>This is a task</p>
            <p>Deadline: <span class="deadline">2022-12-31</span></p>
        </div>
    </div>


    <div id="addTaskModal" class="modal">
        <div class="modal-content">
            <span id="addCloseButton" class="close">&times;</span>
            <h2>Add Task</h2>
            <form>
                <label for="taskTitle">Title:</label>
                <input type="text" id="taskTitle" name="taskTitle" required>
                <label for="taskDescription">Description:</label>
                <textarea id="taskDescription" name="taskDescription" required></textarea>
                <label for="taskDeadline">Deadline:</label>
                <input type="date" id="taskDeadline" name="taskDeadline" required>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      Add to Google Calendar
                    </label>
                  </div>
                  
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <div id="editTaskModal" class="modal">
        <div class="modal-content">
            <span id="editCloseButton" class="close">&times;</span>
            <h2>Edit Task</h2>
            <form>
                <label for="editTaskTitle">Title:</label>
                <input type="text" id="editTaskTitle" name="editTaskTitle" required>
                <label for="editTaskDescription">Description:</label>
                <textarea id="editTaskDescription" name="editTaskDescription" required></textarea>
                <label for="editTaskDeadline">Deadline:</label>
                <input type="date" id="editTaskDeadline" name="editTaskDeadline" required>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      Add to Google Calendar
                    </label>
                  </div>
                <button type="submit">Submit</button>
                
            </form>
        </div>
    </div>
    
<script>
    window.onload = function() {
        var addTaskButtons = document.getElementsByClassName('add-task-button');
        var addTaskModal = document.getElementById('addTaskModal');
        var addCloseButton = document.getElementById('addCloseButton');
        for (var i = 0; i < addTaskButtons.length; i++) {
            addTaskButtons[i].addEventListener('click', function() {
                addTaskModal.style.display = "flex";
                addTaskModal.style.justifyContent = "center";
                addTaskModal.style.alignItems = "center";
            });
        }
        addCloseButton.addEventListener('click', function() {
            addTaskModal.style.display = "none";
        });
        var editTaskButtons = document.getElementsByClassName('edit-task-button');
        var editTaskModal = document.getElementById('editTaskModal');
        var editCloseButton= document.getElementById('editCloseButton');
        for (var i = 0; i < editTaskButtons.length; i++) {
            editTaskButtons[i].addEventListener('click', function() {
                editTaskModal.style.display = "flex";
                editTaskModal.style.justifyContent = "center";
                editTaskModal.style.alignItems = "center";
            });
        }
        editCloseButton.addEventListener('click', function() {
            editTaskModal.style.display = "none";
        });

        var dropdownButtons = document.getElementsByClassName('dropdown-button');
        var dropdownContents = document.getElementsByClassName('dropdown-content');
        var editTaskOptions = document.getElementsByClassName('edit-task-option');
        var deleteTaskOptions = document.getElementsByClassName('delete-task-option');
        var markCompleteOptions = document.getElementsByClassName('mark-complete-option');
        for (var i = 0; i < dropdownButtons.length; i++) {
            dropdownButtons[i].addEventListener('click', function() {
                var dropdownContent = this.nextElementSibling;
                dropdownContent.classList.toggle('show');
            });
        }
        for (var i = 0; i < editTaskOptions.length; i++) {
            editTaskOptions[i].addEventListener('click', function() {
                editTaskModal.style.display = "flex";
                editTaskModal.style.justifyContent = "center";
                editTaskModal.style.alignItems = "center";
            });
        }
        for (var i = 0; i < deleteTaskOptions.length; i++) {
            deleteTaskOptions[i].addEventListener('click', function() {
                // Delete the task from the database
                // Remove the task card from the front end
            });
        }
        for (var i = 0; i < markCompleteOptions.length; i++) {
            markCompleteOptions[i].addEventListener('click', function() {
                var card = this.parentNode.parentNode.parentNode;
                card.classList.toggle('completed');
                // Update the status of the task in the database
            });
        }
    }
</script>
</div>


{% endblock content %}


<!-- 
Tasks are held in a database in the back end. Front end will call the backend wiht a for loop, looping through every item on the list and creating a card for that item. When we create a new task, we will send a post request to the backend to add the task to the database. When we delete a task, we will send a delete request to the backend to delete the task from the database. When we edit a task, we will send a put request to the backend to update the task in the database.

We send the data to the back end to populate the database. Then we call the database to get the data and return the database data to the front end again and populate the front end. We will use AJAX to send the data to the back end. We will use fetch

A dicitonary is a set of key-value pairs. 
{
title: title of task
description: description of task
category: category of task
status: status of task
deadline: deadline of task
}

-->